# Autogenerated by build.py - do not edit
namespace = clawmachine

country_event = {
	id = clawmachine.1
	title = clawmachine.1.t
	desc = clawmachine.1.d
	picture = event_test
	is_triggered_only = yes
	immediate = {
		# Metaprogramming in EU4 is extremely limited. We can't set a string variable and then
		# say "add country modifier with this name", so we have a bunch of individual flags,
		# and have a corresponding switch block in the selection. The important thing is: the
		# randomness occurs here in the immediate block, allowing the player to make a decision
		# and be guaranteed to get the exact effect listed.
		hidden_effect = {
			random_list = { # sword
				1 = { set_country_flag = clawmachine_ae_impact }
				1 = { set_country_flag = clawmachine_siege_blockade_progress }
				1 = { set_country_flag = clawmachine_fort_maintenance_modifier }
				1 = { set_country_flag = clawmachine_recover_army_morale_speed }
				1 = { set_country_flag = clawmachine_movement_speed }
				1 = { set_country_flag = clawmachine_global_regiment_recruit_speed }
				1 = { set_country_flag = clawmachine_global_ship_recruit_speed }
				1 = { set_country_flag = clawmachine_defensiveness }
				1 = { set_country_flag = clawmachine_transport_attrition }
				1 = { set_country_flag = clawmachine_military_tactics }
				1 = { set_country_flag = clawmachine_discipline }
			}
			random_list = { # coin
				1 = { set_country_flag = clawmachine_merchants }
				1 = { set_country_flag = clawmachine_placed_merchant_power }
				1 = { set_country_flag = clawmachine_trade_range_modifier }
				1 = { set_country_flag = clawmachine_ship_power_propagation }
				1 = { set_country_flag = clawmachine_caravan_power }
				1 = { set_country_flag = clawmachine_center_of_trade_upgrade_cost }
				1 = { set_country_flag = clawmachine_great_project_upgrade_cost }
				1 = { set_country_flag = clawmachine_inflation_action_cost }
				1 = { set_country_flag = clawmachine_buildings }
				1 = { set_country_flag = clawmachine_global_prosperity_growth }
				1 = { set_country_flag = clawmachine_global_trade_goods_size }
			}
			random_list = { # heart
				1 = { set_country_flag = clawmachine_min_autonomy_in_territories }
				1 = { set_country_flag = clawmachine_tolerance }
				1 = { set_country_flag = clawmachine_administrative_efficiency }
				1 = { set_country_flag = clawmachine_free_policy }
				1 = { set_country_flag = clawmachine_governing_cost }
				1 = { set_country_flag = clawmachine_monthly_reform_progress }
				1 = { set_country_flag = clawmachine_culture_conversion_cost }
				1 = { set_country_flag = clawmachine_num_accepted_cultures }
				1 = { set_country_flag = clawmachine_no_stability_loss_on_monarch_death }
				1 = { set_country_flag = clawmachine_estates }
			}
			random_list = { # globe
				1 = { set_country_flag = clawmachine_improve_relation_modifier }
				1 = { set_country_flag = clawmachine_prestige_decay }
				1 = { set_country_flag = clawmachine_envoy_travel_time }
				1 = { set_country_flag = clawmachine_range }
				1 = { set_country_flag = clawmachine_native_assimilation }
				1 = { set_country_flag = clawmachine_innovativeness_gain }
				1 = { set_country_flag = clawmachine_institution_growth }
			}
		}
	}
	option = {
		name = clawmachine.1.sword
		trigger_switch = {
			on_trigger = has_country_flag
			clawmachine_ae_impact = { add_country_modifier = { name = clawmachine_ae_impact duration = -1 } } #g
			clawmachine_siege_blockade_progress = { add_country_modifier = { name = clawmachine_siege_blockade_progress duration = -1 } } #g
			clawmachine_fort_maintenance_modifier = { add_country_modifier = { name = clawmachine_fort_maintenance_modifier duration = -1 } } #g
			clawmachine_recover_army_morale_speed = { add_country_modifier = { name = clawmachine_recover_army_morale_speed duration = -1 } } #g
			clawmachine_movement_speed = { add_country_modifier = { name = clawmachine_movement_speed duration = -1 } } #g
			clawmachine_global_regiment_recruit_speed = { add_country_modifier = { name = clawmachine_global_regiment_recruit_speed duration = -1 } } #g
			clawmachine_global_ship_recruit_speed = { add_country_modifier = { name = clawmachine_global_ship_recruit_speed duration = -1 } } #g
			clawmachine_defensiveness = { add_country_modifier = { name = clawmachine_defensiveness duration = -1 } } #g
			clawmachine_transport_attrition = { add_country_modifier = { name = clawmachine_transport_attrition duration = -1 } } #g
			clawmachine_military_tactics = { add_country_modifier = { name = clawmachine_military_tactics duration = -1 } } #g
			clawmachine_discipline = { add_country_modifier = { name = clawmachine_discipline duration = -1 } } #g
		}
	}
	option = {
		name = clawmachine.1.coin
		trigger_switch = {
			on_trigger = has_country_flag
			clawmachine_merchants = { add_country_modifier = { name = clawmachine_merchants duration = -1 } } #g
			clawmachine_placed_merchant_power = { add_country_modifier = { name = clawmachine_placed_merchant_power duration = -1 } } #g
			clawmachine_trade_range_modifier = { add_country_modifier = { name = clawmachine_trade_range_modifier duration = -1 } } #g
			clawmachine_ship_power_propagation = { add_country_modifier = { name = clawmachine_ship_power_propagation duration = -1 } } #g
			clawmachine_caravan_power = { add_country_modifier = { name = clawmachine_caravan_power duration = -1 } } #g
			clawmachine_center_of_trade_upgrade_cost = { add_country_modifier = { name = clawmachine_center_of_trade_upgrade_cost duration = -1 } } #g
			clawmachine_great_project_upgrade_cost = { add_country_modifier = { name = clawmachine_great_project_upgrade_cost duration = -1 } } #g
			clawmachine_inflation_action_cost = { add_country_modifier = { name = clawmachine_inflation_action_cost duration = -1 } } #g
			clawmachine_buildings = { add_country_modifier = { name = clawmachine_buildings duration = -1 } } #g
			clawmachine_global_prosperity_growth = { add_country_modifier = { name = clawmachine_global_prosperity_growth duration = -1 } } #g
			clawmachine_global_trade_goods_size = { add_country_modifier = { name = clawmachine_global_trade_goods_size duration = -1 } } #g
		}
	}
	option = {
		name = clawmachine.1.heart
		trigger_switch = {
			on_trigger = has_country_flag
			clawmachine_min_autonomy_in_territories = { add_country_modifier = { name = clawmachine_min_autonomy_in_territories duration = -1 } } #g
			clawmachine_tolerance = { add_country_modifier = { name = clawmachine_tolerance duration = -1 } } #g
			clawmachine_administrative_efficiency = { add_country_modifier = { name = clawmachine_administrative_efficiency duration = -1 } } #g
			clawmachine_free_policy = { add_country_modifier = { name = clawmachine_free_policy duration = -1 } } #g
			clawmachine_governing_cost = { add_country_modifier = { name = clawmachine_governing_cost duration = -1 } } #g
			clawmachine_monthly_reform_progress = { add_country_modifier = { name = clawmachine_monthly_reform_progress duration = -1 } } #g
			clawmachine_culture_conversion_cost = { add_country_modifier = { name = clawmachine_culture_conversion_cost duration = -1 } } #g
			clawmachine_num_accepted_cultures = { add_country_modifier = { name = clawmachine_num_accepted_cultures duration = -1 } } #g
			clawmachine_no_stability_loss_on_monarch_death = { add_country_modifier = { name = clawmachine_no_stability_loss_on_monarch_death duration = -1 } } #g
			clawmachine_estates = { add_country_modifier = { name = clawmachine_estates duration = -1 } } #g
		}
	}
	option = {
		name = clawmachine.1.globe
		trigger_switch = {
			on_trigger = has_country_flag
			clawmachine_improve_relation_modifier = { add_country_modifier = { name = clawmachine_improve_relation_modifier duration = -1 } } #g
			clawmachine_prestige_decay = { add_country_modifier = { name = clawmachine_prestige_decay duration = -1 } } #g
			clawmachine_envoy_travel_time = { add_country_modifier = { name = clawmachine_envoy_travel_time duration = -1 } } #g
			clawmachine_range = { add_country_modifier = { name = clawmachine_range duration = -1 } } #g
			clawmachine_native_assimilation = { add_country_modifier = { name = clawmachine_native_assimilation duration = -1 } } #g
			clawmachine_innovativeness_gain = { add_country_modifier = { name = clawmachine_innovativeness_gain duration = -1 } } #g
			clawmachine_institution_growth = { capital_scope = { add_permanent_province_modifier = { name = clawmachine_institution_growth duration = -1 } } } #l
		}
	}
	option = {
		name = clawmachine.1.abort
		add_prestige = -10
		hidden_effect = {
			country_event = {
				id = clawmachine.2
				days = 30
			}
		}
		custom_tooltip = "clawmachine.1.abortdesc"
		ai_chance = { factor = 100 }
	}
	after = {
		clr_country_flag = clawmachine_ae_impact
		clr_country_flag = clawmachine_siege_blockade_progress
		clr_country_flag = clawmachine_fort_maintenance_modifier
		clr_country_flag = clawmachine_recover_army_morale_speed
		clr_country_flag = clawmachine_movement_speed
		clr_country_flag = clawmachine_global_regiment_recruit_speed
		clr_country_flag = clawmachine_global_ship_recruit_speed
		clr_country_flag = clawmachine_defensiveness
		clr_country_flag = clawmachine_transport_attrition
		clr_country_flag = clawmachine_military_tactics
		clr_country_flag = clawmachine_discipline

		clr_country_flag = clawmachine_merchants
		clr_country_flag = clawmachine_placed_merchant_power
		clr_country_flag = clawmachine_trade_range_modifier
		clr_country_flag = clawmachine_ship_power_propagation
		clr_country_flag = clawmachine_caravan_power
		clr_country_flag = clawmachine_center_of_trade_upgrade_cost
		clr_country_flag = clawmachine_great_project_upgrade_cost
		clr_country_flag = clawmachine_inflation_action_cost
		clr_country_flag = clawmachine_buildings
		clr_country_flag = clawmachine_global_prosperity_growth
		clr_country_flag = clawmachine_global_trade_goods_size

		clr_country_flag = clawmachine_min_autonomy_in_territories
		clr_country_flag = clawmachine_tolerance
		clr_country_flag = clawmachine_administrative_efficiency
		clr_country_flag = clawmachine_free_policy
		clr_country_flag = clawmachine_governing_cost
		clr_country_flag = clawmachine_monthly_reform_progress
		clr_country_flag = clawmachine_culture_conversion_cost
		clr_country_flag = clawmachine_num_accepted_cultures
		clr_country_flag = clawmachine_no_stability_loss_on_monarch_death
		clr_country_flag = clawmachine_estates

		clr_country_flag = clawmachine_improve_relation_modifier
		clr_country_flag = clawmachine_prestige_decay
		clr_country_flag = clawmachine_envoy_travel_time
		clr_country_flag = clawmachine_range
		clr_country_flag = clawmachine_native_assimilation
		clr_country_flag = clawmachine_innovativeness_gain
		clr_country_flag = clawmachine_institution_growth
	}
}

# Delayed event to reenable the decision. This discourages frivolous rerolling, while still
# permitting it if none of the options suit the country in question.
country_event = {
	id = clawmachine.2
	title = clawmachine.1.t # Irrelevant since it's hidden
	desc = clawmachine.1.d
	picture = event_test
	is_triggered_only = yes
	hidden = yes
	immediate = {
		hidden_effect = {
			clr_country_flag = claw_machine_used
		}
	}
	option = { name = clawmachine.1.abort }
}
